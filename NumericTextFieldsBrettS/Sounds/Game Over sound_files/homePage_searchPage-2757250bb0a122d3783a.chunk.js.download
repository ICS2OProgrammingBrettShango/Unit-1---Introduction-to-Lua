(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1049:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var o=function(e,t){"undefined"!=typeof window&&window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))},i=function(e,t){if("undefined"!=typeof window&&window.localStorage){var n=JSON.parse(window.localStorage.getItem(e));return null==n?t:n}return t}},1077:function(e,t,n){"use strict";var o=n(0),i=n.n(o),s=n(1173),u=n.n(s);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.a=function(e){return function(t){function n(e){var t,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(i=p(n).call(this,e))||"object"!==r(i)&&"function"!=typeof i?h(o):i).state={inputValue:e.inputValue,isOpen:!1,focusedIndex:-1},t.handleInputFocus=t.handleInputFocus.bind(h(h(t))),t.handleInputChange=t.handleInputChange.bind(h(h(t))),t.handleKeyDown=t.handleKeyDown.bind(h(h(t))),t.handleKeyUp=t.handleKeyUp.bind(h(h(t))),t.setWrapperRef=t.setWrapperRef.bind(h(h(t))),t.handleDocumentClick=t.handleDocumentClick.bind(h(h(t))),t.handleMenuMouseEnter=t.handleMenuMouseEnter.bind(h(h(t))),t.handleMenuMouseLeave=t.handleMenuMouseLeave.bind(h(h(t))),t}var o,s,f;return o=n,(s=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("touchend",this.handleDocumentClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("touchend",this.handleDocumentClick,!0)}},{key:"componentWillReceiveProps",value:function(e){e.inputValue!==this.props.inputValue&&this.setState({inputValue:e.inputValue})}},{key:"setWrapperRef",value:function(e){null!==e&&(this.wrapper=e)}},{key:"setTextInputRef",value:function(e){null!==e&&(this.textInput=e)}},{key:"setMenuRef",value:function(e){null!==e&&(this.menu=e)}},{key:"handleDocumentClick",value:function(e){this.wrapper.contains(e.target)||this.setState({isOpen:!1})}},{key:"handleButtonFocus",value:function(){this.setState({isOpen:!1})}},{key:"handleInputChange",value:function(e){this.props.onInputChange&&this.props.onInputChange(e.target.value),this.state.isOpen||this.setState({isOpen:!0}),this.setState({inputValue:e.target.value})}},{key:"handleInputFocus",value:function(e){this.setState({isOpen:!0}),this.props.onInputFocus&&this.props.onInputFocus(e.target.value)}},{key:"onMenuClick",value:function(e,t){t.preventDefault(),this.props.onSelectOption&&this.props.onSelectOption(e,t),this.setState({isOpen:!1})}},{key:"handleKeyDown",value:function(e){switch(e.which){case u()("up"):case u()("down"):e.preventDefault();break;case u()("enter"):case u()("esc"):e.preventDefault()}}},{key:"handleKeyUp",value:function(e){var t=this.state,n=t.focusedIndex,o=t.inputValue,i=this.props.suggestions;switch(e.which){case u()("enter"):this.props.onSelectOption&&this.props.onSelectOption(-1===n?o:i[n],e),this.setState({isOpen:!1});break;case u()("esc"):this.setState({isOpen:!1,focusedIndex:-1});break;case u()("up"):this.setFocusedIndex("prev");break;case u()("down"):this.setFocusedIndex("next");break;default:this.setState({focusedIndex:-1}),e.preventDefault()}}},{key:"setFocusedIndex",value:function(e){var t=this.state,n=t.focusedIndex,o=t.inputValue,i=this.props.suggestions,s=i.length,u=-1===n,r=n===s-1;"prev"===e?0===n||u?this.setState({focusedIndex:s-1,inputValue:i[s-1]?i[s-1].text:o}):this.setState({focusedIndex:n-1,inputValue:i[n-1]?i[n-1].text:o}):"next"===e&&(r||u?this.setState({focusedIndex:0,inputValue:i[0]?i[0].text:o}):this.setState({focusedIndex:n+1,inputValue:i[n+1]?i[n+1].text:o}))}},{key:"handleMenuMouseEnter",value:function(e){this.setState({focusedIndex:e})}},{key:"handleMenuMouseLeave",value:function(){this.setState({focusedIndex:-1})}},{key:"onSearchDismiss",value:function(){this.setState({inputValue:""})}},{key:"render",value:function(){var t=this.state,n=t.focusedIndex,o=t.isOpen,s=t.inputValue,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}({},this.props,{focusedIndex:n,inputValue:s,isOpen:o,wrapperRef:this.wrapper,textInputRef:this.textInput,setWrapperRef:this.setWrapperRef.bind(this),setMenuRef:this.setMenuRef.bind(this),setTextInputRef:this.setTextInputRef.bind(this),onMenuClick:this.onMenuClick.bind(this),handleMenuMouseEnter:this.handleMenuMouseEnter.bind(this),handleMenuMouseLeave:this.handleMenuMouseLeave.bind(this),handleInputChange:this.handleInputChange.bind(this),handleInputFocus:this.handleInputFocus.bind(this),handleKeyDown:this.handleKeyDown.bind(this),handleKeyUp:this.handleKeyUp.bind(this),onSearchDismiss:this.onSearchDismiss.bind(this),handleButtonFocus:this.handleButtonFocus.bind(this)});return i.a.createElement(e,u)}}])&&l(o.prototype,s),f&&l(o,f),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");c(e.prototype,t&&t.prototype),t&&c(e,t)}(n,t),n}(i.a.Component)}},1078:function(e,t,n){"use strict";var o=n(0),i=n(94);t.a=function(e){var t=e.TagName,n=void 0===t?"p":t,s=e.heading,u=e.subHeading,r=e.styles,a=void 0===r?{}:r;return o.createElement("div",{"data-test-selector":"SeoHeadings"},o.createElement(i.a,{Tag:n,className:a.seoHeading,html:s}),u&&o.createElement(i.a,{Tag:"h2",className:a.seoSubHeading,html:u}))}},1079:function(e,t,n){"use strict";var o=n(0),i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n};t.a=function(e){var t=e.options,n=s(e,["options"]);return o.createElement("select",i({},n),t.map(function(e){return o.createElement("option",{key:e.value,value:e.value},e.label)}))}},1081:function(e,t,n){"use strict";var o=n(0),i=n.n(o),s=n(3),u=n.n(s),r=n(45),a=n(1172),c=n(423),l=n(10),p="wss://suggest.market.envato.com/socket",h="autocomplete:standard",f=n(8),d=n(270),g=n(264),y=n(1049),b=function(){return(b=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},v=function(){function e(){}return e.addItem=function(t){var n=Object(y.a)(e.RECENT_SEARCH,[]);e.updateRecentSearch(n,t)},e.getRecentSearch=function(t,n){return Object(y.a)(e.RECENT_SEARCH,[]).map(function(o){return e.createSuggestion(o,t,n)})},e.updateRecentSearch=function(t,n){t.includes(n)?e.bringItemToFront(t,n):(e.ensureItemCount(t,e.MAX_COUNT-1),t.unshift(n)),Object(y.b)(e.RECENT_SEARCH,t)},e.bringItemToFront=function(e,t){var n=e.indexOf(t);e.splice(n,1),e.unshift(t)},e.ensureItemCount=function(e,t){e.length>t&&e.pop()},e.createSuggestion=function(e,t,n){return{link:n(b({},t,{term:e})),text:e}},e.RECENT_SEARCH="recentSearch",e.MAX_COUNT=5,e}(),m=n(381);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e){return(w=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=function(t){function n(e){var t,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(i=w(n).call(this,e))||"object"!==k(i)&&"function"!=typeof i?C(o):i).state={suggestions:[],inputValue:e.value||""},t.socketConnection=null,t.socketChannel=null,t.setSuggestions=t.setSuggestions.bind(C(C(t))),t.onInputChange=t.onInputChange.bind(C(C(t))),t.onSelectOption=t.onSelectOption.bind(C(C(t))),t.onInputFocus=t.onInputFocus.bind(C(C(t))),t}var o,s,u;return o=n,(s=[{key:"componentDidMount",value:function(){this.initSocket()}},{key:"componentWillUnmount",value:function(){this.closeSocket()}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({inputValue:e.value})}},{key:"initSocket",value:function(){var e=this,t=p,n=h;this.socketConnection=new a.Socket(t),this.socketChannel=this.socketConnection.channel(n,{}),this.socketConnection.connect(),this.socketChannel.on("new_msg",function(t){e.setSuggestions(t.body)}),this.socketChannel.join().receive("ok",function(){e.state.inputValue&&e.sendMessage(e.state.inputValue)}).receive("error",function(e){Object(f.g)(Object(f.d)({message:e}))})}},{key:"closeSocket",value:function(){this.socketConnection&&this.socketConnection.disconnect()}},{key:"sendMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.currentSite,n={body:e.trim().toLowerCase(),category:null,site:t||"themeforest"};this.socketConnection&&this.socketChannel&&this.socketConnection.isConnected()&&this.socketChannel.isJoined()&&this.socketChannel.push("new_msg",n).receive("error",function(e){Object(f.g)(Object(f.d)({message:e}))})}},{key:"setSuggestions",value:function(e){this.setState({suggestions:e})}},{key:"onInputChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.makeSearchLink;this.setState({inputValue:e}),""===e?this.setSuggestions(v.getRecentSearch({},t)):this.sendMessage(e)}},{key:"getLink",value:function(e){var t=this.props,n=t.locationParams,o=t.makeSearchLink,i=Object.assign({},n,{term:e});return delete i.page,o(i)}},{key:"getCategoryLink",value:function(e,t){var n=this.props,o=n.locationParams,i=n.makeSearchLink,s=Object.assign({},o,{category:e,term:t});return delete s.page,i(s)}},{key:"onSelectOption",value:function(e,t){var n,o,i=this.props.history,s=this.state.suggestions;"string"==typeof e?n={text:e,link:this.getLink(e)}:"object"===k(e)&&(n=Object.assign({},e),o={action:t&&"mousedown"===t.type?"click":"keyboard",label:e.text,suggestedTerm:s.map(function(e){return e.text})},Object(l.a)("set",{metric2:o.suggestedTerm.length,metric3:o.label.length,dimension16:o.suggestedTerm.join(",")}),Object(l.a)("send","event","autosuggestion",o.action||"click",o.label)),n&&"string"==typeof n.text&&(""!==n.text&&v.addItem(n.text),this.setState({inputValue:n.text},function(){Object(m.a)(i,n.link)}))}},{key:"onInputFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.locationParams,o=t.makeSearchLink;""===e&&this.setState({suggestions:v.getRecentSearch(n,o)})}},{key:"getCategorySuggestions",value:function(){var e=this,t=this.state.suggestions,n=this.props.currentSite,o=t.filter(function(e){return"c"===e.type}).map(function(t){return t.categories.map(function(o){return{link:e.getCategoryLink(o,t.text),type:t.type,text:t.text,category:Object(g.b)(n,o)||o}})});return Object(c.a)(o)}},{key:"getSuggestions",value:function(){var e=this,t=this.props.showCategories,n=this.state.suggestions.filter(function(e){return"c"!==e.type}).map(function(t){return t.link=e.getLink(t.text),t});return t?this.getCategorySuggestions().concat(n):n}},{key:"render",value:function(){var t=this.state.inputValue,n=this.props,o=n.locationParams,s=n.makeSearchLink,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){I(e,t,n[t])})}return e}({},this.props,{suggestions:this.getSuggestions(),onInputChange:this.onInputChange,onSelectOption:this.onSelectOption,inputValue:t,type:"search",onInputFocus:this.onInputFocus});return i.a.createElement(d.a,{locationParams:o,makeSearchLink:s},i.a.createElement(e,u))}}])&&O(o.prototype,s),u&&O(o,u),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");S(e.prototype,t&&t.prototype),t&&S(e,t)}(n,t),n}(i.a.Component);return I(t,"propTypes",{inputName:u.a.string.isRequired,placeholder:u.a.string,locationParams:u.a.object.isRequired,makeSearchLink:u.a.func.isRequired}),I(t,"defaultProps",{placeholder:""}),Object(r.c)(t)}}}]);
//# sourceMappingURL=homePage~searchPage-2757250bb0a122d3783a.chunk.js.map